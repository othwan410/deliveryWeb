{% extends 'layout.html' %} {% block content %}
<div id="store">
  <r id="menudesc"><label for="name">메뉴이름</label>
  <input type="text" id="storeinput" class="menuName" placeholder="menu name" /></r>
  <r id="menudesc"><label for="desc">메뉴설명</label>
  <input type="text" id="storeinput" class="menuDesc" placeholder="add information" /></r>
  <r id="menudesc"><label for="price">메뉴가격</label>
  <input type="text" id="storeinput" class="menuPrice" placeholder="price" /></r>
  <r id="menudesc"><label for="img_url">메뉴사진</label>
  <input type="text" id="storeinput" class="menuImg" placeholder="이미지넣을 부분" /></r>
      <button class="menuUpdateBtn">수정하기</button>
  <!-- <div class="white-space"></div> -->
</div>
{%endblock%} {% block script %}
<script>
  const menuUpdateBtn = document.querySelector('.menuUpdateBtn')

  menuUpdateBtn.addEventListener('click', async (e) => {
    e.preventDefault();
    const menuName = $('.menuName').val();
    const menuDesc = $('.menuDesc').val();
    const menuPrice = $('.menuPrice').val();
    const menuImg = $('.menuImg').val();

    const data = {
      name:menuName,
      desc:menuDesc,
      price:menuPrice,
      img_url: menuImg
    }

    await axios.put('/stores/{{store.store_id}}/menu/{{store.menu_id}}', data)
    .then((res) => {alert('수정완료')})
  })
</script>
{%endblock%}